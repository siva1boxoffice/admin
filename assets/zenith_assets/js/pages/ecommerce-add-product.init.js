!function(o){Dropzone.autoDiscover=!1,o(".select2").select2().on("change",function(){""!==o(this).val()&&o(this).siblings(".validation-error").addClass("d-none")}),o("#product-desc").length&&CKEDITOR.replace("product-desc"),o("#colors").length&&(o("#colors").tagsinput({trimValue:!0}),o("#colors").on("itemAdded itemRemoved",function(){o("#colors").siblings(".validation-error").addClass("d-none")}));var r=new Dropzone(document.getElementById("productImages"),{url:"http://matrrdigital.com/themes/dropzone",previewsContainer:"#file-previews",previewTemplate:o("#uploadPreviewTemplate").html(),success:function(e,i){var l=i;e.previewElement.classList.add("dz-success"),o(r.element).siblings(".validation-error").addClass("d-none"),console.log("Successfully uploaded :"+l)},error:function(e,i){console.log("response",i),e.previewElement.classList.add("dz-error"),o(r.element).siblings(".validation-error").addClass("d-none")}});o("#addProductForm").validate({ignore:[".select2-hidden-accessible"],focusInvalid:!1,rules:{"validation-productname":{required:!0},"validation-brandname":{required:!0},"validation-price":{required:!0},"validation-productcat":{required:!0},"validation-budget":{required:!0},"validation-colors":{required:!0},"validation-currency":{required:!0},"validation-qty":{required:!0},"validation-editor":{required:function(){return CKEDITOR.instances["product-desc"].updateElement()}}},errorPlacement:function(e,i){return o(i).siblings(".validation-error").removeClass("d-none"),r.files.length||o(r.element).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){o(e).parents(".form-group floating-label enable-floating-label show-label").addClass("invalid-field")},unhighlight:function(e){o(e).parents(".form-group floating-label enable-floating-label show-label").removeClass("invalid-field"),o(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(e){if(r.files.length){var i=o(e).serializeArray(),l={},n=[];o(i).each(function(e,i){l[i.name]=i.value}),r&&r.files.length&&r.files.forEach(function(e,i){n.push(e.name)}),l["validation-files"]=n.join(", "),alert("see console log for data submission"),console.log("product has been added ===>",l),o(e)[0].reset(),o(".select2").select2(""),o("#colors").tagsinput("removeAll"),r.removeAllFiles(!0),CKEDITOR.instances["product-desc"].setData("")}else o(r.element).siblings(".validation-error").removeClass("d-none")}})}(jQuery);